trigger:
  none  # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ ÙÙ‚Ø·

pool:
  vmImage: 'ubuntu-latest'

steps:
  - task: AzureCLI@2
    displayName: 'Set Azure Subscription and Connect to AKS'
    inputs:
      azureSubscription: 'Azure for Capstone Project'  # âœ… Ø§ÙƒØªØ¨ Ù‡Ù†Ø§ Ø§Ø³Ù… Ø§Ù„Ù€ Service Connection Ø¨Ø§Ù„Ø¶Ø¨Ø·
      scriptType: 'bash'
      scriptLocation: 'inlineScript'
      inlineScript: |
        echo "ğŸ”„ Setting Azure subscription..."
        az account set --subscription a7135c8f-934c-4000-b5b1-b09d6b645365

        echo "ğŸ” Getting AKS credentials..."
        az aks get-credentials \
          --resource-group DevOps1-CapstoneProject-champ-rg \
          --name DevOps1-CapstoneProject-champ-aks \
          --overwrite-existing

        echo "ğŸ“¡ Testing kubectl access..."
        kubectl get pods -A
